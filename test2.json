[
  ["let", ["=", "hello", "world"]],
  ["let", ["=", "goose", ["egg"]]],
  [
    "let",
    [
      "=",
      "type-arrow-index",
      [
        "if",
        ["==", ["extract", "&body", 1], "\"->\""],
        1,
        ["if", ["==", ["extract", "&body", 2], "\"->\""], 2, -1]
      ]
    ]
  ],
  ["=>", "a"],
  ["=>", "a"],
  ["=>", ["a"]],
  ["=>", ["a"]],
  ["let", ["=>", ["=", "x", ["a"]], ["hello"]]],
  [
    "let",
    [
      "reduce",
      ["=>", ["=", "extract-variables", ["exprs"]], "exprs"],
      ["array"]
    ],
    ["=>", ["vars", "expr"], "if"],
    [["is-list", "vars"]],
    [
      "if",
      [
        "==",
        [
          "or",
          ["==", ["extract", "vars", 0], "\"define-mut\""],
          ["extract", "vars", 0]
        ],
        "\"define\""
      ],
      [
        "push",
        "vars",
        ["array", ["extract", "expr", 1], ["extract", "expr", 2]]
      ],
      ["concat", "vars", ["extract-variables", "expr"]]
    ],
    "vars",
    "hello"
  ],
  [
    "let",
    [
      "reduce",
      ["=>", ["=", "extract-variables", ["exprs"]], "exprs"],
      ["array"]
    ],
    ["=>", ["vars", "expr"], "if"],
    [["is-list", "vars"]],
    [
      "if",
      [
        "==",
        [
          "or",
          ["==", ["extract", "vars", 0], "\"define-mut\""],
          ["extract", "vars", 0]
        ],
        "\"define\""
      ],
      [
        "push",
        "vars",
        ["array", ["extract", "expr", 1], ["extract", "expr", 2]]
      ],
      ["concat", "vars", ["extract-variables", "expr"]]
    ],
    "vars"
  ]
]
